2025-11-11 17:40:14,197Z - INFO - ==== TE V5 Trainer start ====
2025-11-11 17:40:14,197Z - INFO - Connecting DB...
2025-11-11 17:40:14,267Z - INFO - DB OK
2025-11-11 17:40:14,267Z - INFO - Loading prices...
2025-11-11 17:42:09,266Z - INFO - Indicators (RSI/SMA/ATR)...
2025-11-11 17:42:12,809Z - INFO - Daily trends (SMA/trend)...
2025-11-11 17:42:14,559Z - INFO - Loading TE news...
2025-11-11 17:42:15,433Z - INFO - Filtered news piles >20: 9449 removed
2025-11-11 17:42:15,434Z - INFO - Loading imp_cache_tradingeconomics...
2025-11-11 17:42:15,453Z - INFO - Building targets (direction/magnitude) with +15m horizon...
2025-11-11 17:42:17,451Z - INFO - Dynamic horizon filter: 1462 -> 1005 events (removed 457 with horizon < 5m)
2025-11-11 17:42:17,940Z - INFO - Direction classification thresholds: min=1.2, coeff=0.4
2025-11-11 17:42:17,940Z - INFO - Threshold range: [1.20, 1.36] pips, median=1.20
2025-11-11 17:42:17,940Z - INFO - Building features...
2025-11-11 17:42:17,954Z - INFO - Loading correlation features...
2025-11-11 17:42:17,960Z - INFO - Falling back to correlation_trends (currency/year).
2025-11-11 17:42:17,986Z - INFO - Applied currency/year correlation fallback.
2025-11-11 17:42:18,882Z - INFO - Labels: use_dynamic=False, y_col=direction_cls, mag_col=magnitude_pips
2025-11-11 17:42:18,977Z - INFO - Time split @ 2025-11-10 08:54:13.200000+00:00: train=655, test=201
2025-11-11 17:42:18,978Z - INFO - Time split @ 2025-11-10 08:54:13.200000+00:00: train=655, test=201
2025-11-11 17:42:18,978Z - INFO - Class balance (train): Counter({np.int64(2): 323, np.int64(1): 207, np.int64(0): 125})
2025-11-11 17:42:18,978Z - INFO - Class balance (test): Counter({np.int64(0): 79, np.int64(1): 63, np.int64(2): 59})
2025-11-11 17:42:18,979Z - INFO - Baseline (majority=2) acc=0.2935
2025-11-11 17:42:18,979Z - INFO - Train RandomForest (direction)...
2025-11-11 17:42:20,087Z - INFO - GridSearch XGBClassifier (direction)...
2025-11-11 17:44:04,844Z - INFO - Best XGB params: {'learning_rate': 0.1, 'max_depth': 4, 'n_estimators': 300}
