2025-11-10 22:23:31,386Z - INFO - ==== TE V5 Trainer start ====
2025-11-10 22:23:31,386Z - INFO - Connecting DB...
2025-11-10 22:23:31,439Z - INFO - DB OK
2025-11-10 22:23:31,440Z - INFO - Loading prices...
2025-11-10 22:25:21,365Z - INFO - Indicators (RSI/SMA/ATR)...
2025-11-10 22:25:25,134Z - INFO - Daily trends (SMA/trend)...
2025-11-10 22:25:26,682Z - INFO - Loading TE news...
2025-11-10 22:25:27,406Z - INFO - Filtered news piles >20: 9449 removed
2025-11-10 22:25:27,406Z - INFO - Loading imp_cache_tradingeconomics...
2025-11-10 22:25:27,530Z - INFO - Building targets (direction/magnitude) with +15m horizon...
2025-11-10 22:25:30,017Z - INFO - Building features...
2025-11-10 22:25:30,026Z - INFO - Loading correlation features...
2025-11-10 22:25:30,041Z - INFO - Falling back to correlation_trends (currency/year).
2025-11-10 22:25:30,062Z - INFO - Applied currency/year correlation fallback.
2025-11-10 22:25:31,056Z - INFO - Time split @ 2025-11-10 05:27:12.400000+00:00: train=154, test=39
2025-11-10 22:25:31,056Z - INFO - Class balance (train): Counter({np.int64(1): 59, np.int64(2): 49, np.int64(0): 46})
2025-11-10 22:25:31,057Z - INFO - Class balance (test): Counter({np.int64(1): 23, np.int64(0): 12, np.int64(2): 4})
2025-11-10 22:25:31,057Z - INFO - Baseline (majority=1) acc=0.5897
2025-11-10 22:25:31,057Z - INFO - Train RandomForest (direction)...
2025-11-10 22:25:31,933Z - INFO - GridSearch XGBClassifier (direction)...
2025-11-10 22:27:48,885Z - INFO - Best XGB params: {'learning_rate': 0.1, 'max_depth': 6, 'n_estimators': 200}
2025-11-10 22:27:49,017Z - INFO - 
Confusion matrix [rows=true (0,1,2), cols=pred]:
[[ 8  4  0]
 [ 4 19  0]
 [ 2  1  1]]
2025-11-10 22:27:49,032Z - INFO - 
              precision    recall  f1-score   support

           0      0.571     0.667     0.615        12
           1      0.792     0.826     0.809        23
           2      1.000     0.250     0.400         4

    accuracy                          0.718        39
   macro avg      0.788     0.581     0.608        39
weighted avg      0.745     0.718     0.707        39

2025-11-10 22:27:49,035Z - INFO - Ensemble (RF+XGB) direction: acc=0.7179 f1=0.6080
2025-11-10 22:27:49,209Z - INFO - GridSearch XGBRegressor (magnitude)...
2025-11-10 22:28:09,909Z - INFO - Best XGBReg params: {'learning_rate': 0.05, 'max_depth': 4, 'n_estimators': 200}
2025-11-10 22:28:09,920Z - INFO - RMSE magnitude (pips) @+15m: 2.7812
2025-11-10 22:28:09,927Z - INFO - ==== TE V5 Trainer done ====
