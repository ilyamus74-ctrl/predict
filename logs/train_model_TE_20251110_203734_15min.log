2025-11-10 22:37:34,613Z - INFO - ==== TE V5 Trainer start ====
2025-11-10 22:37:34,613Z - INFO - Connecting DB...
2025-11-10 22:37:34,673Z - INFO - DB OK
2025-11-10 22:37:34,673Z - INFO - Loading prices...
2025-11-10 22:39:17,049Z - INFO - Indicators (RSI/SMA/ATR)...
2025-11-10 22:39:20,451Z - INFO - Daily trends (SMA/trend)...
2025-11-10 22:39:21,922Z - INFO - Loading TE news...
2025-11-10 22:39:22,327Z - INFO - Filtered news piles >20: 9449 removed
2025-11-10 22:39:22,327Z - INFO - Loading imp_cache_tradingeconomics...
2025-11-10 22:39:22,340Z - INFO - Building targets (direction/magnitude) with +15m horizon...
2025-11-10 22:39:25,209Z - INFO - Building features...
2025-11-10 22:39:25,218Z - INFO - Loading correlation features...
2025-11-10 22:39:25,224Z - INFO - Falling back to correlation_trends (currency/year).
2025-11-10 22:39:25,245Z - INFO - Applied currency/year correlation fallback.
2025-11-10 22:39:26,183Z - INFO - Time split @ 2025-11-10 04:59:00.800000+00:00: train=153, test=39
2025-11-10 22:39:26,184Z - INFO - Class balance (train): Counter({np.int64(1): 58, np.int64(2): 49, np.int64(0): 46})
2025-11-10 22:39:26,184Z - INFO - Class balance (test): Counter({np.int64(1): 22, np.int64(0): 13, np.int64(2): 4})
2025-11-10 22:39:26,185Z - INFO - Baseline (majority=1) acc=0.5641
2025-11-10 22:39:26,185Z - INFO - Train RandomForest (direction)...
2025-11-10 22:39:27,629Z - INFO - GridSearch XGBClassifier (direction)...
2025-11-10 22:39:31,193Z - INFO - Best XGB params: {'learning_rate': 0.05, 'max_depth': 6, 'n_estimators': 300}
2025-11-10 22:39:31,289Z - INFO - 
Confusion matrix [rows=true (0,1,2), cols=pred]:
[[ 7  5  1]
 [ 2 20  0]
 [ 2  2  0]]
2025-11-10 22:39:31,298Z - INFO - 
              precision    recall  f1-score   support

           0      0.636     0.538     0.583        13
           1      0.741     0.909     0.816        22
           2      0.000     0.000     0.000         4

    accuracy                          0.692        39
   macro avg      0.459     0.483     0.467        39
weighted avg      0.630     0.692     0.655        39

2025-11-10 22:39:31,301Z - INFO - Ensemble (RF+XGB) direction: acc=0.6923 f1=0.4666
2025-11-10 22:39:31,432Z - INFO - GridSearch XGBRegressor (magnitude)...
2025-11-10 22:39:32,432Z - INFO - Best XGBReg params: {'learning_rate': 0.1, 'max_depth': 4, 'n_estimators': 400}
2025-11-10 22:39:32,437Z - INFO - RMSE magnitude (pips) @+15m: 2.5570
2025-11-10 22:39:32,443Z - INFO - ==== TE V5 Trainer done ====
